<script type="text/javascript">



function test_newEmploye(){










	let args = ["Иванов Амир", "12.12.2012", "менеджер", "80000"];
	let res = {id:0, errorDescription:""};
	let result = newEmployee(...args);
	console.assert(JSON.stringify(result) === JSON.stringify(res), "test 1 failed", result) ;







	 args = ["ИвановАмир", "12.12.2012", "менеджер", "80000"];
	res = {id:-1, errorDescription:"lastName not specified"};
	result = newEmployee(...args);
	console.assert(JSON.stringify(result) === JSON.stringify(res), "test 2 failed", result) ;




	args = ["Иванов Амир", "12.12.2012", "", "80000"];
	res = {id:-1, errorDescription:'position not specified'};
	console.assert(JSON.stringify(newEmployee(...args)) === JSON.stringify(res), "test 3 failed") ;




	args = ["Иванов Амир", "12.12.2012", "менеджер", "80000"];
	res = {id:-1, errorDescription:'Exists'};
	console.assert(JSON.stringify(newEmployee(...args)) === JSON.stringify(res), "test 4 failed") ;

	args = ["Петров Амир", "", "менеджер", "80000"];
	res = {id:-1, errorDescription:'birthDate not specified'};
	console.assert(JSON.stringify(newEmployee(...args)) === JSON.stringify(res), "test 5 failed") ;

	args = ["Петров Амир", "12.12.2012", "менеждер", "800000"];
    res = JSON.stringify({
        id: -1, 
        errorDescription: "birthDate not specified"
    });

    console.assert(JSON.stringify(newEmployee(...args)) !== JSON.stringify(res), 'Test 6 failed!');



}

	let employeeProto = {
		id: -1,
		firstName: '',
		lastName: '',
		birthDate: '',
		hiredDate: '',
		position: '',
		salary: 0


	}



var database = [];


//function to add new employee

test_newEmploye();

function newEmployee(fullName, birthDate, position, salary){
	let [firstName, lastName] = fullName.split(' ');

	if(!firstName) return{id: -1, errorDescription: "firstName not specified"};
	if(!lastName) return{id: -1, errorDescription: "lastName not specified"};
	if(!birthDate) return{id: -1, errorDescription: `birthDate not specified`};
	if(!position) return{id: -1, errorDescription: `position not specified`};
	if(!salary) return{id: -1, errorDescription: `salary not specified`};

	for(let x of database){
		if(x.firstName === firstName && x.lastName === lastName){
			return{id: -1, errorDescription: `Exists`}
		}
	}

	let worker = employeeProto;

	worker.id = database.length;

	worker.firstName = firstName;

	worker.lastName = lastName;

	worker.hiredDate = new Date().toDateString;

	birthDate = new Date(birthDate).toDateString;

	if(!birthDate) return {id:-1, errorDescription: "birthDate not val"};

	worker.birthDate = birthDate.toDateString;

	worker.position = position;

	worker.salary = salary;



database.push(worker);
return {id: worker.id, errorDescription: ""};

}















</script>